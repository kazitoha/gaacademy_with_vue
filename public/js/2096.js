(self.webpackChunk=self.webpackChunk||[]).push([[2096],{2096:(a,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>d});var t=r(7757),s=r.n(t),n=r(1768);function o(a,e,r,t,s,n,o){try{var i=a[n](o),l=i.value}catch(a){return void r(a)}i.done?e(l):Promise.resolve(l).then(t,s)}function i(a){return function(){var e=this,r=arguments;return new Promise((function(t,s){var n=a.apply(e,r);function i(a){o(n,t,s,i,l,"next",a)}function l(a){o(n,t,s,i,l,"throw",a)}i(void 0)}))}}const l={components:{BaseTextarea:r(9877).Z,BaseButton:n.Z},data:function(){return{guardianForm:new Form({name:"",email:"",password:"",phone:"",gender:"male"})}},methods:{addGuardian:function(){var a=this;return i(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.guardianForm.post("/api/guardians");case 3:r=e.sent,a.guardianForm.reset(),a.toastSuccess(r.data.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.toastError("Something went wrong while saving data");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},dataExistsChecking:function(){var a=this;return i(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("/api/sessions/year");case 2:null!=(r=e.sent).data.sessions.length&&r.data.selectedSession.default_session_id||(a.redirect("academic-session"),a.toastWarning("Please create and set default session first"));case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){var a=this;return i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.hasPermisssion("parent-create");case 2:return e.next=4,a.dataExistsChecking();case 4:case"end":return e.stop()}}),e)})))()}};const d=(0,r(1900).Z)(l,(function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("div",[r("div",{staticClass:"page-header d-print-none"},[r("div",{staticClass:"row align-items-center"},[r("div",{staticClass:"col"},[r("h2",{staticClass:"page-title"},[a._v(a._s(a.$route.meta.title))]),a._v(" "),r("h2",{staticClass:"page-pretitle"},[a._v(a._s(a.$t("parent")))])])])]),a._v(" "),r("div",{staticClass:"card"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header d-flex justify-content-between"},[r("h3",{staticClass:"card-title"},[a._v(a._s(a.$t("create_new_parent")))]),a._v(" "),r("Back",{attrs:{routeName:"user-guardian"}})],1),a._v(" "),r("div",{staticClass:"card-body border-bottom py-3"},[r("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),a.addGuardian(e)}}},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group mb-3"},[r("label",{staticClass:"form-label"},[a._v(a._s(a.$t("name")))]),a._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:a.guardianForm.name,expression:"guardianForm.name"}],staticClass:"form-control",class:{"is-invalid":a.guardianForm.errors.has("name")},attrs:{type:"text",placeholder:a.$t("enter_name")},domProps:{value:a.guardianForm.name},on:{input:function(e){e.target.composing||a.$set(a.guardianForm,"name",e.target.value)}}}),a._v(" "),r("has-error",{attrs:{form:a.guardianForm,field:"name"}})],1)]),a._v(" "),r("div",{staticClass:"form-group mb-3"},[r("label",{staticClass:"form-label"},[a._v(a._s(a.$t("email")))]),a._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:a.guardianForm.email,expression:"guardianForm.email"}],staticClass:"form-control",class:{"is-invalid":a.guardianForm.errors.has("email")},attrs:{type:"email",placeholder:a.$t("enter_email")},domProps:{value:a.guardianForm.email},on:{input:function(e){e.target.composing||a.$set(a.guardianForm,"email",e.target.value)}}}),a._v(" "),r("has-error",{attrs:{form:a.guardianForm,field:"email"}})],1)]),a._v(" "),r("div",{staticClass:"form-group mb-3"},[r("label",{staticClass:"form-label"},[a._v(a._s(a.$t("password")))]),a._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:a.guardianForm.password,expression:"guardianForm.password"}],staticClass:"form-control",class:{"is-invalid":a.guardianForm.errors.has("password")},attrs:{type:"password",placeholder:a.$t("enter_password")},domProps:{value:a.guardianForm.password},on:{input:function(e){e.target.composing||a.$set(a.guardianForm,"password",e.target.value)}}}),a._v(" "),r("has-error",{attrs:{form:a.guardianForm,field:"password"}})],1)]),a._v(" "),r("div",{staticClass:"form-group mb-3"},[r("label",{staticClass:"form-label"},[a._v(a._s(a.$t("phone")))]),a._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:a.guardianForm.phone,expression:"guardianForm.phone"}],staticClass:"form-control",class:{"is-invalid":a.guardianForm.errors.has("phone")},attrs:{type:"number",placeholder:a.$t("enter_phone")},domProps:{value:a.guardianForm.phone},on:{input:function(e){e.target.composing||a.$set(a.guardianForm,"phone",e.target.value)}}}),a._v(" "),r("has-error",{attrs:{form:a.guardianForm,field:"phone"}})],1)]),a._v(" "),r("div",{staticClass:"form-group mb-3"},[r("label",{staticClass:"form-label"},[a._v(a._s(a.$t("gender")))]),a._v(" "),r("div",[r("label",{staticClass:"form-check form-check-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:a.guardianForm.gender,expression:"guardianForm.gender"}],staticClass:"form-check-input",attrs:{type:"radio",value:"male"},domProps:{checked:a._q(a.guardianForm.gender,"male")},on:{change:function(e){return a.$set(a.guardianForm,"gender","male")}}}),a._v(" "),r("span",{staticClass:"form-check-label"},[a._v(a._s(a.$t("male")))])]),a._v(" "),r("label",{staticClass:"form-check form-check-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:a.guardianForm.gender,expression:"guardianForm.gender"}],staticClass:"form-check-input",attrs:{type:"radio",value:"female"},domProps:{checked:a._q(a.guardianForm.gender,"female")},on:{change:function(e){return a.$set(a.guardianForm,"gender","female")}}}),a._v(" "),r("span",{staticClass:"form-check-label"},[a._v(a._s(a.$t("female")))])])]),a._v(" "),r("has-error",{attrs:{form:a.guardianForm,field:"name"}})],1),a._v(" "),r("div",{staticClass:"form-footer text-center"},[r("base-button",{attrs:{loading:a.guardianForm.busy}},[a._v(a._s(a.$t("save")))])],1)])])])])])])])}),[],!1,null,null,null).exports}}]);