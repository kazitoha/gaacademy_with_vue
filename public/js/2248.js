(self.webpackChunk=self.webpackChunk||[]).push([[2248],{2446:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});var a=s(3645),r=s.n(a)()((function(t){return t[1]}));r.push([t.id,".text-align-center[data-v-61b046e4]{text-align:center}",""]);const n=r},2248:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>v});var a=s(7757),r=s.n(a);function n(t,e,s,a,r,n,o){try{var i=t[n](o),c=i.value}catch(t){return void s(t)}i.done?e(c):Promise.resolve(c).then(a,r)}function o(t){return function(){var e=this,s=arguments;return new Promise((function(a,r){var o=t.apply(e,s);function i(t){n(o,a,r,i,c,"next",t)}function c(t){n(o,a,r,i,c,"throw",t)}i(void 0)}))}}const i={data:function(){return{searchForm:new Form({exam_id:""}),routines:[]}},methods:{getExamRoutine:function(){var t=this;return o(r().mark((function e(){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.searchForm.post("/api/student/exam-routines");case 3:s=e.sent,t.routines=s.data.data,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t.toastError(e.t0.response.data.message),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},computed:{exams:function(){return this.$store.getters["exam/examList"]}},created:function(){var t=this;return o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Student"!=t.authenticateUser.original_role&&t.redirect("401"),e.next=3,t.$store.dispatch("exam/fetchExamsList");case 3:t.searchForm.exam_id=t.exams[0].id,t.getExamRoutine();case 5:case"end":return e.stop()}}),e)})))()}};var c=s(3379),l=s.n(c),d=s(2446),u={insert:"head",singleton:!1};l()(d.Z,u);d.Z.locals;const v=(0,s(1900).Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"page-header d-print-none"},[s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col"},[s("h2",{staticClass:"page-title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),s("h2",{staticClass:"page-pretitle"},[t._v(t._s(t.$t("exam")))])])])]),t._v(" "),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row justify-content-center mx-auto"},[s("div",{staticClass:"col-md-3 col-sm-4 col-5"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.searchForm.exam_id,expression:"searchForm.exam_id"}],staticClass:"form-control text-center",class:{"is-invalid":t.searchForm.errors.has("exam_id")},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.searchForm,"exam_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{disabled:"",selected:"",value:""}},[t._v(t._s(t.$t("select_exam")))]),t._v(" "),t._l(t.exams,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name)+"\n                        ")])}))],2),t._v(" "),s("has-error",{attrs:{form:t.searchForm,field:"class_id"}})],1),t._v(" "),s("div",{staticClass:"col-md-3 col-sm-4 col-7"},[s("button",{staticClass:"btn btn-primary btn-outline",on:{click:function(e){return e.preventDefault(),t.getExamRoutine(e)}}},[t._v("\n                        "+t._s(t.$t("get_exam_routine"))+"\n                    ")])])])]),t._v(" "),t.routines.length?s("div",{staticClass:"col-12 mt-3"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"card-title"},[t._v("\n                        "+t._s(t.$t("exam_routines"))+"\n                    ")])]),t._v(" "),s("div",{staticClass:"card-body card-body-scrollable card-body-scrollable-shadow"},[[s("table",{staticClass:"table table-hover table-bordered"},[s("thead",[s("tr",[s("th",[t._v(t._s(t.$t("date"))+" ("+t._s(t.$t("day"))+"/"+t._s(t.$t("month"))+"/"+t._s(t.$t("year"))+")")]),t._v(" "),s("th",[t._v(t._s(t.$t("subject")))]),t._v(" "),s("th",[t._v(t._s(t.$t("start_time")))]),t._v(" "),s("th",[t._v(t._s(t.$t("end_time")))]),t._v(" "),s("th",[t._v(t._s(t.$t("room_no")))])])]),t._v(" "),s("tbody",t._l(t.routines,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(t.formateDate(e.exam_date,"D/MM/YY")))]),t._v(" "),s("td",[t._v(t._s(e.subject.name))]),t._v(" "),s("td",[t._v(t._s(e.start_time))]),t._v(" "),s("td",[t._v(t._s(e.end_time))]),t._v(" "),s("td",[t._v(t._s(e.room.room_no))])])})),0)])]],2)])]):[s("NotFound",{attrs:{word:"routines"}})]],2)])}),[],!1,null,"61b046e4",null).exports}}]);