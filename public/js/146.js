(self.webpackChunk=self.webpackChunk||[]).push([[146],{1496:t=>{const e=t=>void 0===t,a=t=>Array.isArray(t),n=t=>t&&"number"==typeof t.size&&"string"==typeof t.type&&"function"==typeof t.slice,s=(t,o,r,c)=>((o=o||{}).indices=!e(o.indices)&&o.indices,o.nullsAsUndefineds=!e(o.nullsAsUndefineds)&&o.nullsAsUndefineds,o.booleansAsIntegers=!e(o.booleansAsIntegers)&&o.booleansAsIntegers,o.allowEmptyArrays=!e(o.allowEmptyArrays)&&o.allowEmptyArrays,r=r||new FormData,e(t)||(null===t?o.nullsAsUndefineds||r.append(c,""):(t=>"boolean"==typeof t)(t)?o.booleansAsIntegers?r.append(c,t?1:0):r.append(c,t):a(t)?t.length?t.forEach(((t,e)=>{const a=c+"["+(o.indices?e:"")+"]";s(t,o,r,a)})):o.allowEmptyArrays&&r.append(c+"[]",""):(t=>t instanceof Date)(t)?r.append(c,t.toISOString()):!(t=>t===Object(t))(t)||(t=>n(t)&&"string"==typeof t.name&&("object"==typeof t.lastModifiedDate||"number"==typeof t.lastModified))(t)||n(t)?r.append(c,t):Object.keys(t).forEach((e=>{const n=t[e];if(a(n))for(;e.length>2&&e.lastIndexOf("[]")===e.length-2;)e=e.substring(0,e.length-2);s(n,o,r,c?c+"["+e+"]":e)}))),r);t.exports={serialize:s}},146:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>u});var n=a(7757),s=a.n(n),o=a(7484),r=a.n(o),c=a(1496);function i(t,e,a,n,s,o,r){try{var c=t[o](r),i=c.value}catch(t){return void a(t)}c.done?e(i):Promise.resolve(i).then(n,s)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var o=t.apply(e,a);function r(t){i(o,n,s,r,c,"next",t)}function c(t){i(o,n,s,r,c,"throw",t)}r(void 0)}))}}const m={data:function(){return{accountantForm:new Form({name:"",email:"",password:"",joining_date:"",phone:"",gender:"male",resume:"",joining_letter:""})}},methods:{setDate:function(t){var e=r()(t).format("YYYY-MM-DD");this.accountantForm.joining_date=e},handleJoiningLetterUpload:function(){this.accountantForm.joining_letter=this.$refs.joining_letter.files[0]},handleResumeUpload:function(){this.accountantForm.resume=this.$refs.resume.files[0]},addTeacher:function(){var t=this;return l(s().mark((function e(){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.accountantForm.post("/api/accountants",{transformRequest:[function(t,e){return(0,c.serialize)(t)}]});case 3:a=e.sent,t.accountantForm.reset(),t.accountantForm.clear(),t.$refs.joining_letter.value="",t.$refs.resume.value="",t.toastSuccess(a.data.message),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}},mounted:function(){var t=this;return l(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.hasPermisssion("accountant-create");case 2:case"end":return e.stop()}}),e)})))()}};const u=(0,a(1900).Z)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page-header d-print-none"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col"},[a("h2",{staticClass:"page-title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),a("h2",{staticClass:"page-pretitle"},[t._v(t._s(t.$t("accountant")))])])])]),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header d-flex justify-content-between"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.$t("create_new_accountant")))]),t._v(" "),a("Back",{attrs:{routeName:"user-accountant"}})],1),t._v(" "),a("div",{staticClass:"card-body border-bottom py-3"},[a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.addTeacher(e)}}},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-10"},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("name"))+"\n                                    ")]),t._v(" "),a("base-input",{attrs:{form:t.accountantForm,field:"name"},model:{value:t.accountantForm.name,callback:function(e){t.$set(t.accountantForm,"name",e)},expression:"accountantForm.name"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v(t._s(t.$t("email")))]),t._v(" "),a("base-input",{attrs:{form:t.accountantForm,field:"email"},model:{value:t.accountantForm.email,callback:function(e){t.$set(t.accountantForm,"email",e)},expression:"accountantForm.email"}})],1)]),t._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v(t._s(t.$t("password")))]),t._v(" "),a("base-input",{attrs:{form:t.accountantForm,inputType:"password",field:"password"},model:{value:t.accountantForm.password,callback:function(e){t.$set(t.accountantForm,"password",e)},expression:"accountantForm.password"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"phone"}},[t._v(t._s(t.$t("phone"))+"\n                                    ")]),t._v(" "),a("base-input",{attrs:{form:t.accountantForm,field:"phone"},model:{value:t.accountantForm.phone,callback:function(e){t.$set(t.accountantForm,"phone",e)},expression:"accountantForm.phone"}})],1)]),t._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"joining_letter"}},[t._v("\n                                        "+t._s(t.$t("joining_letter"))+"\n                                    ")]),t._v(" "),a("input",{ref:"joining_letter",staticClass:"form-control",class:{"is-invalid":t.accountantForm.errors.has("joining_letter")},attrs:{type:"file"},on:{change:t.handleJoiningLetterUpload}}),t._v(" "),a("has-error",{attrs:{form:t.accountantForm,field:"joining_letter"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"resume"}},[t._v("\n                                        "+t._s(t.$t("resume"))+"\n                                    ")]),t._v(" "),a("input",{ref:"resume",staticClass:"form-control",class:{"is-invalid":t.accountantForm.errors.has("resume")},attrs:{type:"file"},on:{change:t.handleResumeUpload}}),t._v(" "),a("has-error",{attrs:{form:t.accountantForm,field:"resume"}})],1)]),t._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("label",{staticClass:"form-label",attrs:{for:"resume"}},[t._v("\n                                        "+t._s(t.$t("joining_date"))+"\n                                    ")]),t._v(" "),a("date-picker",{attrs:{format:"dd MMMM, yyyy","input-class":"form-control",placeholder:t.$t("select_date"),value:t.accountantForm.joining_date},on:{input:function(e){return t.setDate(e)}}}),t._v(" "),a("has-error",{staticClass:"d-block",attrs:{form:t.accountantForm,field:"joining_date"}})],1),t._v(" "),a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"form-label"},[t._v(t._s(t.$t("gender")))]),t._v(" "),a("div",[a("label",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.accountantForm.gender,expression:"accountantForm.gender"}],staticClass:"form-check-input",attrs:{type:"radio",value:"male"},domProps:{checked:t._q(t.accountantForm.gender,"male")},on:{change:function(e){return t.$set(t.accountantForm,"gender","male")}}}),t._v(" "),a("span",{staticClass:"form-check-label"},[t._v(t._s(t.$t("male")))])]),t._v(" "),a("label",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.accountantForm.gender,expression:"accountantForm.gender"}],staticClass:"form-check-input",attrs:{type:"radio",value:"female"},domProps:{checked:t._q(t.accountantForm.gender,"female")},on:{change:function(e){return t.$set(t.accountantForm,"gender","female")}}}),t._v(" "),a("span",{staticClass:"form-check-label"},[t._v(t._s(t.$t("female")))])])]),t._v(" "),a("has-error",{attrs:{form:t.accountantForm,field:"name"}})],1)]),t._v(" "),a("div",{staticClass:"form-footer text-center"},[a("base-button",{attrs:{loading:t.accountantForm.busy}},[t._v("\n                                    "+t._s(t.$t("save"))+"\n                                ")])],1)])])])])])])])}),[],!1,null,null,null).exports}}]);