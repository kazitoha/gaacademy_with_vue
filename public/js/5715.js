(self.webpackChunk=self.webpackChunk||[]).push([[5715,549],{2361:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});var s=a(3645),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".btn-loading-effect[data-v-512b9a39]{padding-left:30px}",""]);const n=r},789:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});var s=a(3645),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".dropdown-menu-end[data-v-63e01808]{right:100%}.user-card[data-v-63e01808]{position:relative}.dots[data-v-63e01808]{position:absolute;top:5px;right:10px}",""]);const n=r},5146:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});var s=a(3645),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".fade-enter-active,.fade-leave-active{transition:opacity .3s}.fade-enter,.fade-leave-active{opacity:0}.user-card{position:relative}.dots{position:absolute;top:5px;right:10px}",""]);const n=r},5463:(t,e,a)=>{"use strict";var s=a(538);s="default"in s?s.default:s;var r="2.2.2";/^2\./.test(s.version)||s.util.warn("VueClickaway 2.2.2 only supports Vue 2.x, and does not support Vue "+s.version);var n="_vue_clickaway_handler";function i(t,e,a){o(t);var s=a.context,r=e.value;if("function"==typeof r){var i=!1;setTimeout((function(){i=!0}),0),t[n]=function(e){var a=e.path||(e.composedPath?e.composedPath():void 0);if(i&&(a?a.indexOf(t)<0:!t.contains(e.target)))return r.call(s,e)},document.documentElement.addEventListener("click",t[n],!1)}}function o(t){document.documentElement.removeEventListener("click",t[n],!1),delete t[n]}var l={bind:i,update:function(t,e){e.value!==e.oldValue&&i(t,e)},unbind:o},c={directives:{onClickaway:l}};e.jB=c},6805:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(3379),r=a.n(s),n=a(2361),i={insert:"head",singleton:!1};r()(n.Z,i);n.Z.locals;const o=(0,a(1900).Z)({},(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-icon d-inline-block"},[a("span",{staticClass:"input-icon-addon"},[a("div",{staticClass:"spinner-border spinner-border-sm text-light mr-3",attrs:{role:"status"}})]),t._v(" "),a("input",{staticClass:"btn btn-primary btn-loading-effect",attrs:{type:"button",value:"Processing..."}})])}],!1,null,"512b9a39",null).exports},549:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});const s={data:function(){return{notFound:"/images/not-found.svg"}},props:{word:{type:String,default:"user",required:!1},route:{type:String,required:!1},btnShow:{type:Boolean,required:!1,default:!0}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"empty"},[a("div",{staticClass:"empty-img"},[a("img",{attrs:{src:t.notFound,height:"128",alt:"not found"}})]),t._v(" "),a("p",{staticClass:"empty-title"},[t._v(t._s(t.$t("no_results_found")))]),t._v(" "),a("p",{staticClass:"empty-subtitle text-muted"},[t._v("\n        "+t._s(t.$t("there_is_no"))+" "+t._s(t.word)+" "+t._s(t.$t("found_in_this_page"))+".\n    ")]),t._v(" "),t.route&&t.btnShow?a("div",{staticClass:"empty-action"},[a("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:t.route}}},[a("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),t._v(" "),a("line",{attrs:{x1:"12",y1:"5",x2:"12",y2:"19"}}),t._v(" "),a("line",{attrs:{x1:"5",y1:"12",x2:"19",y2:"12"}})]),t._v("\n            "+t._s(t.$t("add_your_first"))+" "+t._s(t.word)+"\n        ")])],1):t._e()])}),[],!1,null,null,null).exports},9566:(t,e,a)=>{"use strict";a.d(e,{Z:()=>l});const s={mixins:[a(5463).jB],props:{data:{type:Object,required:!0},canEdit:{type:Boolean,default:!1},canDelete:{type:Boolean,default:!1}},data:function(){return{showDots:!1}},methods:{toggleDots:function(){this.showDots=!this.showDots},closeDropdown:function(){this.showDots=!1},editData:function(){this.$emit("edit-data",this.data)},deleteData:function(){this.$emit("delete-data",this.data.id)}}};var r=a(3379),n=a.n(r),i=a(789),o={insert:"head",singleton:!1};n()(i.Z,o);i.Z.locals;const l=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.closeDropdown,expression:"closeDropdown"}],staticClass:"dots dropdown"},[a("a",{staticClass:"link-secondary",attrs:{href:"javascript:void(0)","data-bs-toggle":"dropdown","aria-expanded":"false"},on:{click:t.toggleDots}},[a("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[a("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),t._v(" "),a("circle",{attrs:{cx:"5",cy:"12",r:"1"}}),t._v(" "),a("circle",{attrs:{cx:"12",cy:"12",r:"1"}}),t._v(" "),a("circle",{attrs:{cx:"19",cy:"12",r:"1"}})])]),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-end right-100",class:{show:t.showDots}},[t.canEdit?a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:t.editData}},[t._v("\n            "+t._s(t.$t("edit"))+"\n        ")]):t._e(),t._v(" "),t.canDelete?a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:t.deleteData}},[t._v("\n            "+t._s(t.$t("delete"))+"\n        ")]):t._e()])])}),[],!1,null,"63e01808",null).exports},5715:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>x});var s=a(7757),r=a.n(s),n=a(5463),i=a(6805),o=a(9566),l=a(549),c=a(629);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function v(t,e,a,s,r,n,i){try{var o=t[n](i),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(s,r)}function f(t){return function(){var e=this,a=arguments;return new Promise((function(s,r){var n=t.apply(e,a);function i(t){v(n,s,r,i,o,"next",t)}function o(t){v(n,s,r,i,o,"throw",t)}i(void 0)}))}}const p={mixins:[n.jB],components:{ButtonLoading:i.Z,CardDropdown:o.Z,NotFound:l.default,DeleteButton:function(){return a.e(2815).then(a.bind(a,2815))}},data:function(){return{isModalShow:!1,isDeleteModalShow:!1,selectedId:"",isEditMode:!1,form:new Form({name:"",gpa:"",min_mark:"",max_mark:""})}},methods:{toggleModalShow:function(){this.isModalShow=!this.isModalShow,this.form.clear()},save:function(){var t=this;return f(r().mark((function e(){var a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isEditMode){e.next=15;break}return e.prev=1,e.next=4,t.form.post("/api/exam-result-rules");case 4:a=e.sent,t.$store.commit("examResultRule/ADD_RESULT_RULE",a.data.exam_result_rule),t.reset(),t.toastSuccess(a.data.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.toastError();case 13:e.next=27;break;case 15:return e.prev=15,e.next=18,t.form.put("/api/exam-result-rules/".concat(t.selectedId));case 18:s=e.sent,t.$store.commit("examResultRule/UPDATE_RESULT_RULE",s.data.exam_result_rule),t.reset(),t.toastSuccess(s.data.message),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(15),t.toastError();case 27:case"end":return e.stop()}}),e,null,[[1,10],[15,24]])})))()},editData:function(t){this.isEditMode=!0,this.toggleModalShow(),this.selectedId=t.id,this.form.fill(t)},deleteData:function(t){this.$store.dispatch("examResultRule/removeResultRule",t),this.reset(),this.toastSuccess("Exam rule delete successfully!")},reset:function(){this.isEditMode=!1,this.isModalShow=!1,this.selectedId="",this.form.reset(),this.form.clear()}},computed:u(u({},(0,c.Se)({result_rules:"examResultRule/result_rules"})),{},{emptyData:function(){return 0==this.result_rules.length}}),mounted:function(){var t=this;return f(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.hasPermisssion("exam-rule-list");case 2:t.$store.dispatch("examResultRule/fetchResultRules");case 3:case"end":return e.stop()}}),e)})))()}};var _=a(3379),h=a.n(_),b=a(5146),w={insert:"head",singleton:!1};h()(b.Z,w);b.Z.locals;const x=(0,a(1900).Z)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page-header d-print-none"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col"},[a("h2",{staticClass:"page-title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),a("h2",{staticClass:"page-pretitle"},[t._v(t._s(t.$t("exam")))])]),t._v(" "),t.checkPermission("exam-rule-create")?a("div",{staticClass:"col-auto ms-auto d-print-none"},[a("div",{staticClass:"d-flex"},[a("a",{staticClass:"btn btn-primary btn-outline",attrs:{href:"#"},on:{click:t.toggleModalShow}},[a("icon-plus"),t._v("\n                        "+t._s(t.$t("create"))+"\n                    ")],1)])]):t._e()])]),t._v(" "),a("div",{staticClass:"row row-cards mt-2"},[t.emptyData?a("div",{staticClass:"d-flex justify-content-center py-3"},[a("NotFound",{attrs:{word:"Marks"}})],1):[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.$route.meta.title))])]),t._v(" "),a("div",{staticClass:"card-body table-responsive"},[a("table",{staticClass:"table table-hover table-vcenter text-nowrap"},[a("thead",[a("tr",[a("th",{attrs:{width:"10%"}},[t._v(t._s(t.$t("name")))]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v(t._s(t.$t("gpa")))]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v(t._s(t.$t("min_mark")))]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v(t._s(t.$t("max_mark")))]),t._v(" "),t.checkPermission("exam-rule-edit")||t.checkPermission("exam-rule-delete")?a("th",{attrs:{width:"15%"}},[t._v("\n                                        "+t._s(t.$t("action"))+"\n                                    ")]):t._e()])]),t._v(" "),a("tbody",t._l(t.result_rules,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.gpa))]),t._v(" "),a("td",[t._v(t._s(e.min_mark))]),t._v(" "),a("td",[t._v(t._s(e.max_mark))]),t._v(" "),t.checkPermission("exam-rule-edit")||t.checkPermission("exam-rule-delete")?a("td",[t.checkPermission("exam-rule-edit")?a("button",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.editData(e)}}},[t._v("\n                                            "+t._s(t.$t("edit"))+"\n                                        ")]):t._e(),t._v(" "),t.checkPermission("exam-rule-delete")?a("DeleteButton",{attrs:{id:e.id},on:{"delete-data":t.deleteData}}):t._e()],1):t._e()])})),0)])])])])]],2),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isModalShow?a("div",{staticClass:"modal modal-blur fade show modal-hidee",attrs:{id:"modal-danger",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-md modal-dialog-centered",attrs:{role:"document"}},[a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.reset,expression:"reset"}],staticClass:"modal-content"},[a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"},on:{click:t.reset}}),t._v(" "),a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.isEditMode?t.$t("update_exam_term"):t.$t("create_exam_term"))+"\n                        ")]),t._v(" "),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"},on:{click:t.toggleModalShow}})]),t._v(" "),a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("div",{staticClass:"modal-body py-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label"},[t._v(t._s(t.$t("name")))]),t._v(" "),a("base-input",{attrs:{form:t.form,field:"name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label"},[t._v(t._s(t.$t("gpa")))]),t._v(" "),a("base-input",{attrs:{form:t.form,field:"gpa"},model:{value:t.form.gpa,callback:function(e){t.$set(t.form,"gpa",e)},expression:"form.gpa"}})],1),t._v(" "),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label"},[t._v(t._s(t.$t("min_mark")))]),t._v(" "),a("base-input",{attrs:{form:t.form,field:"min_mark"},model:{value:t.form.min_mark,callback:function(e){t.$set(t.form,"min_mark",e)},expression:"form.min_mark"}})],1),t._v(" "),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label"},[t._v(t._s(t.$t("max_mark")))]),t._v(" "),a("base-input",{attrs:{form:t.form,field:"max_mark"},model:{value:t.form.max_mark,callback:function(e){t.$set(t.form,"max_mark",e)},expression:"form.max_mark"}})],1)])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("base-button",{attrs:{loading:t.form.busy}},[t._v(t._s(t.$t("save")))])],1)])])])]):t._e()])],1)}),[],!1,null,null,null).exports}}]);