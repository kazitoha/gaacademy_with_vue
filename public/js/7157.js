(self.webpackChunk=self.webpackChunk||[]).push([[7157],{7157:(a,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>d});var t=r(7757),s=r.n(t);function n(a,e,r,t,s,n,o){try{var i=a[n](o),d=i.value}catch(a){return void r(a)}i.done?e(d):Promise.resolve(d).then(t,s)}function o(a){return function(){var e=this,r=arguments;return new Promise((function(t,s){var o=a.apply(e,r);function i(a){n(o,t,s,i,d,"next",a)}function d(a){n(o,t,s,i,d,"throw",a)}i(void 0)}))}}const i={data:function(){return{guardianForm:new Form({name:"",email:"",password:"",phone:"",gender:""}),guardian:null}},methods:{updateGuardian:function(){var a=this;return o(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.guardianForm.put("/api/guardians/".concat(a.guardian.id));case 3:(r=e.sent).data.success&&a.toastSuccess(r.data.message),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a.toastError("Something went wrong while saving data");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getGuardian:function(){var a=this;return o(s().mark((function e(){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=a.$route.params.id,e.next=4,axios.get("/api/guardians/".concat(r));case 4:t=e.sent,a.guardian=t.data.data,Object.keys(a.guardianForm).forEach((function(e){a.guardian.hasOwnProperty(e)&&(a.guardianForm[e]=t.data.data[e]),a.guardian.user.hasOwnProperty(e)&&(a.guardianForm[e]=t.data.data.user[e])})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a.toastError("Something went wrong while saving data");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},mounted:function(){var a=this;return o(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.$route.params.id||a.redirect("404"),e.next=3,a.hasPermisssion("parent-edit");case 3:a.getGuardian();case 4:case"end":return e.stop()}}),e)})))()}};const d=(0,r(1900).Z)(i,(function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("div",[r("div",{staticClass:"page-header d-print-none"},[r("div",{staticClass:"row align-items-center"},[r("div",{staticClass:"col"},[r("h2",{staticClass:"page-title"},[a._v(a._s(a.$route.meta.title))]),a._v(" "),r("h2",{staticClass:"page-pretitle"},[a._v(a._s(a.$t("parent")))])])])]),a._v(" "),r("div",{staticClass:"card"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header d-flex justify-content-between"},[r("h3",{staticClass:"card-title"},[a._v(a._s(a.$t("edit_new_parent")))]),a._v(" "),r("Back",{attrs:{routeName:"user-guardian"}})],1),a._v(" "),r("div",{staticClass:"card-body border-bottom py-3"},[r("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),a.updateGuardian(e)}}},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group mb-3"},[r("label",{staticClass:"form-label"},[a._v(a._s(a.$t("name")))]),a._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:a.guardianForm.name,expression:"guardianForm.name"}],staticClass:"form-control",class:{"is-invalid":a.guardianForm.errors.has("name")},attrs:{type:"text",placeholder:a.$t("enter_name")},domProps:{value:a.guardianForm.name},on:{input:function(e){e.target.composing||a.$set(a.guardianForm,"name",e.target.value)}}}),a._v(" "),r("has-error",{attrs:{form:a.guardianForm,field:"name"}})],1)]),a._v(" "),r("div",{staticClass:"form-group mb-3"},[r("label",{staticClass:"form-label"},[a._v(a._s(a.$t("email")))]),a._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:a.guardianForm.email,expression:"guardianForm.email"}],staticClass:"form-control",class:{"is-invalid":a.guardianForm.errors.has("email")},attrs:{type:"email",placeholder:a.$t("enter_email")},domProps:{value:a.guardianForm.email},on:{input:function(e){e.target.composing||a.$set(a.guardianForm,"email",e.target.value)}}}),a._v(" "),r("has-error",{attrs:{form:a.guardianForm,field:"email"}})],1)]),a._v(" "),r("div",{staticClass:"form-group mb-3"},[r("label",{staticClass:"form-label"},[a._v(a._s(a.$t("change_password")))]),a._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:a.guardianForm.password,expression:"guardianForm.password"}],staticClass:"form-control",class:{"is-invalid":a.guardianForm.errors.has("password")},attrs:{type:"password",placeholder:a.$t("enter_password")},domProps:{value:a.guardianForm.password},on:{input:function(e){e.target.composing||a.$set(a.guardianForm,"password",e.target.value)}}}),a._v(" "),r("has-error",{attrs:{form:a.guardianForm,field:"password"}})],1)]),a._v(" "),r("div",{staticClass:"form-group mb-3"},[r("label",{staticClass:"form-label"},[a._v(a._s(a.$t("phone")))]),a._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:a.guardianForm.phone,expression:"guardianForm.phone"}],staticClass:"form-control",class:{"is-invalid":a.guardianForm.errors.has("phone")},attrs:{type:"text",placeholder:a.$t("enter_phone")},domProps:{value:a.guardianForm.phone},on:{input:function(e){e.target.composing||a.$set(a.guardianForm,"phone",e.target.value)}}}),a._v(" "),r("has-error",{attrs:{form:a.guardianForm,field:"phone"}})],1)]),a._v(" "),r("div",{staticClass:"form-group mb-3"},[r("label",{staticClass:"form-label"},[a._v(a._s(a.$t("gender")))]),a._v(" "),r("div",[r("label",{staticClass:"form-check form-check-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:a.guardianForm.gender,expression:"guardianForm.gender"}],staticClass:"form-check-input",attrs:{type:"radio",value:"male"},domProps:{checked:a._q(a.guardianForm.gender,"male")},on:{change:function(e){return a.$set(a.guardianForm,"gender","male")}}}),a._v(" "),r("span",{staticClass:"form-check-label"},[a._v(a._s(a.$t("male")))])]),a._v(" "),r("label",{staticClass:"form-check form-check-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:a.guardianForm.gender,expression:"guardianForm.gender"}],staticClass:"form-check-input",attrs:{type:"radio",value:"female"},domProps:{checked:a._q(a.guardianForm.gender,"female")},on:{change:function(e){return a.$set(a.guardianForm,"gender","female")}}}),a._v(" "),r("span",{staticClass:"form-check-label"},[a._v(a._s(a.$t("female")))])])]),a._v(" "),r("has-error",{attrs:{form:a.guardianForm,field:"name"}})],1),a._v(" "),r("div",{staticClass:"form-footer text-center"},[r("base-button",{attrs:{loading:a.guardianForm.busy}},[a._v(a._s(a.$t("save")))])],1)])])])])])])])}),[],!1,null,null,null).exports}}]);