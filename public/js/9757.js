(self.webpackChunk=self.webpackChunk||[]).push([[9757],{9501:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});var s=a(3645),r=a.n(s)()((function(t){return t[1]}));r.push([t.id,".text-align-center[data-v-197e3b73]{text-align:center}",""]);const n=r},9757:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>v});var s=a(7757),r=a.n(s);function n(t,e,a,s,r,n,i){try{var o=t[n](i),c=o.value}catch(t){return void a(t)}o.done?e(c):Promise.resolve(c).then(s,r)}function i(t){return function(){var e=this,a=arguments;return new Promise((function(s,r){var i=t.apply(e,a);function o(t){n(i,s,r,o,c,"next",t)}function c(t){n(i,s,r,o,c,"throw",t)}o(void 0)}))}}const o={data:function(){return{searchForm:new Form({exam_id:""}),routines:[]}},methods:{getExamRoutine:function(){var t=this;return i(r().mark((function e(){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.searchForm.post("/api/student/exam-routines");case 3:a=e.sent,t.routines=a.data.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},computed:{exams:function(){return this.$store.getters["exam/examList"]}},created:function(){var t=this;return i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Student"!=t.authenticateUser.original_role&&t.redirect("401"),e.next=3,t.$store.dispatch("exam/fetchExamsList");case 3:t.searchForm.exam_id=t.exams[0].id,t.getExamRoutine();case 5:case"end":return e.stop()}}),e)})))()}};var c=a(3379),l=a.n(c),d=a(9501),u={insert:"head",singleton:!1};l()(d.Z,u);d.Z.locals;const v=(0,a(1900).Z)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page-header d-print-none"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col"},[a("h2",{staticClass:"page-title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),a("h2",{staticClass:"page-pretitle"},[t._v(t._s(t.$t("exam")))])])])]),t._v(" "),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row justify-content-center mx-auto"},[a("div",{staticClass:"col-md-3 col-sm-4 col-5"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchForm.exam_id,expression:"searchForm.exam_id"}],staticClass:"form-control text-center",class:{"is-invalid":t.searchForm.errors.has("exam_id")},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.searchForm,"exam_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[t._v(t._s(t.$t("select_exam")))]),t._v(" "),t._l(t.exams,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name)+"\n                        ")])}))],2),t._v(" "),a("has-error",{attrs:{form:t.searchForm,field:"class_id"}})],1),t._v(" "),a("div",{staticClass:"col-md-3 col-sm-4 col-7"},[a("button",{staticClass:"btn btn-primary btn-outline",on:{click:function(e){return e.preventDefault(),t.getExamRoutine(e)}}},[t._v("\n                        "+t._s(t.$t("get_exam_routine"))+"\n                    ")])])])]),t._v(" "),t.routines.length?a("div",{staticClass:"col-12 mt-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"card-title"},[t._v("\n                        "+t._s(t.$t("exam_routines"))+"\n                    ")])]),t._v(" "),a("div",{staticClass:"card-body card-body-scrollable card-body-scrollable-shadow"},[[a("table",{staticClass:"table table-hover table-bordered"},[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("date"))+" ("+t._s(t.$t("day"))+"/"+t._s(t.$t("month"))+"/"+t._s(t.$t("year"))+")")]),t._v(" "),a("th",[t._v(t._s(t.$t("subject")))]),t._v(" "),a("th",[t._v(t._s(t.$t("start_time")))]),t._v(" "),a("th",[t._v(t._s(t.$t("end_time")))]),t._v(" "),a("th",[t._v(t._s(t.$t("room_no")))])])]),t._v(" "),a("tbody",t._l(t.routines,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(t.formateDate(e.exam_date,"D/MM/YY")))]),t._v(" "),a("td",[t._v(t._s(e.subject.name))]),t._v(" "),a("td",[t._v(t._s(e.start_time))]),t._v(" "),a("td",[t._v(t._s(e.end_time))]),t._v(" "),a("td",[t._v(t._s(e.room.room_no))])])})),0)])]],2)])]):[a("NotFound",{attrs:{word:"routines"}})]],2)])}),[],!1,null,"197e3b73",null).exports}}]);