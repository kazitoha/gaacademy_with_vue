(self.webpackChunk=self.webpackChunk||[]).push([[8120],{2361:(t,e,s)=>{"use strict";s.d(e,{Z:()=>r});var o=s(3645),a=s.n(o)()((function(t){return t[1]}));a.push([t.id,".btn-loading-effect[data-v-512b9a39]{padding-left:30px}",""]);const r=a},1496:t=>{const e=t=>void 0===t,s=t=>Array.isArray(t),o=t=>t&&"number"==typeof t.size&&"string"==typeof t.type&&"function"==typeof t.slice,a=(t,r,n,i)=>((r=r||{}).indices=!e(r.indices)&&r.indices,r.nullsAsUndefineds=!e(r.nullsAsUndefineds)&&r.nullsAsUndefineds,r.booleansAsIntegers=!e(r.booleansAsIntegers)&&r.booleansAsIntegers,r.allowEmptyArrays=!e(r.allowEmptyArrays)&&r.allowEmptyArrays,n=n||new FormData,e(t)||(null===t?r.nullsAsUndefineds||n.append(i,""):(t=>"boolean"==typeof t)(t)?r.booleansAsIntegers?n.append(i,t?1:0):n.append(i,t):s(t)?t.length?t.forEach(((t,e)=>{const s=i+"["+(r.indices?e:"")+"]";a(t,r,n,s)})):r.allowEmptyArrays&&n.append(i+"[]",""):(t=>t instanceof Date)(t)?n.append(i,t.toISOString()):!(t=>t===Object(t))(t)||(t=>o(t)&&"string"==typeof t.name&&("object"==typeof t.lastModifiedDate||"number"==typeof t.lastModified))(t)||o(t)?n.append(i,t):Object.keys(t).forEach((e=>{const o=t[e];if(s(o))for(;e.length>2&&e.lastIndexOf("[]")===e.length-2;)e=e.substring(0,e.length-2);a(o,r,n,i?i+"["+e+"]":e)}))),n);t.exports={serialize:a}},6805:(t,e,s)=>{"use strict";s.d(e,{Z:()=>i});var o=s(3379),a=s.n(o),r=s(2361),n={insert:"head",singleton:!1};a()(r.Z,n);r.Z.locals;const i=(0,s(1900).Z)({},(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-icon d-inline-block"},[s("span",{staticClass:"input-icon-addon"},[s("div",{staticClass:"spinner-border spinner-border-sm text-light mr-3",attrs:{role:"status"}})]),t._v(" "),s("input",{staticClass:"btn btn-primary btn-loading-effect",attrs:{type:"button",value:"Processing..."}})])}],!1,null,"512b9a39",null).exports},8120:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>m});var o=s(7757),a=s.n(o),r=s(6805),n=s(1496);function i(t,e,s,o,a,r,n){try{var i=t[r](n),l=i.value}catch(t){return void s(t)}i.done?e(l):Promise.resolve(l).then(o,a)}function l(t){return function(){var e=this,s=arguments;return new Promise((function(o,a){var r=t.apply(e,s);function n(t){i(r,o,a,n,l,"next",t)}function l(t){i(r,o,a,n,l,"throw",t)}n(void 0)}))}}const c={components:{ButtonLoading:r.Z},data:function(){return{settingForm:new Form({name:"",short_name:"",email:"",address:"",phone:"",favicon:"",logo:"",dark_logo:""}),preview_favicon:"",preview_logo:"",preview_dark_logo:""}},methods:{onFavChange:function(t){var e=t.target.files[0];this.preview_favicon=URL.createObjectURL(e),this.settingForm.favicon=e},onLogoChange:function(t){var e=t.target.files[0];this.preview_logo=URL.createObjectURL(e),this.settingForm.logo=e},onDarkLogoChange:function(t){var e=t.target.files[0];this.preview_dark_logo=URL.createObjectURL(e),this.settingForm.dark_logo=e},websiteSettingForm:function(){var t=this;return l(a().mark((function e(){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.settingForm.post("/api/setting",{transformRequest:[function(t,e){return(0,n.serialize)(t)}]});case 3:s=e.sent,t.settingForm.favicon&&document.getElementById("favicon").setAttribute("href",s.data.setting.favicon_url),t.toastSuccess(s.data.message),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t.toastError(),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},loadData:function(){var t=this;return l(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.settingForm.fill(t.setting),t.settingForm.logo="",t.settingForm.favicon="",t.settingForm.dark_logo="",t.preview_favicon=t.setting.favicon_url,t.preview_logo=t.setting.logo_url,t.preview_dark_logo=t.setting.dark_logo_url;case 7:case"end":return e.stop()}}),e)})))()}},computed:{setting:function(){return this.$store.getters["setting/setting"]}},created:function(){this.loadData()}};const m=(0,s(1900).Z)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab-pane active show",attrs:{id:"website"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body border-bottom py-3"},[s("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.websiteSettingForm(e)}}},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-xl-6"},[s("div",{staticClass:"form-group mb-3 row"},[s("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("app_name")))]),t._v(" "),s("div",{staticClass:"col-md-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settingForm.name,expression:"settingForm.name"}],staticClass:"form-control",class:{"is-invalid":t.settingForm.errors.has("name")},attrs:{type:"text",placeholder:t.$t("name"),id:"name"},domProps:{value:t.settingForm.name},on:{input:function(e){e.target.composing||t.$set(t.settingForm,"name",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.settingForm,field:"name"}})],1)]),t._v(" "),s("div",{staticClass:"form-group mb-3 row"},[s("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("app_short_name")))]),t._v(" "),s("div",{staticClass:"col-md-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settingForm.short_name,expression:"settingForm.short_name"}],staticClass:"form-control",class:{"is-invalid":t.settingForm.errors.has("short_name")},attrs:{type:"text",placeholder:t.$t("short_name"),id:"short_name"},domProps:{value:t.settingForm.short_name},on:{input:function(e){e.target.composing||t.$set(t.settingForm,"short_name",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.settingForm,field:"short_name"}})],1)]),t._v(" "),s("div",{staticClass:"form-group mb-3 row"},[s("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"email"}},[t._v(t._s(t.$t("email")))]),t._v(" "),s("div",{staticClass:"col-md-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settingForm.email,expression:"settingForm.email"}],staticClass:"form-control",class:{"is-invalid":t.settingForm.errors.has("email")},attrs:{type:"text",placeholder:t.$t("email"),id:"email"},domProps:{value:t.settingForm.email},on:{input:function(e){e.target.composing||t.$set(t.settingForm,"email",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.settingForm,field:"email"}})],1)]),t._v(" "),s("div",{staticClass:"form-group mb-3 row"},[s("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"phone"}},[t._v("\n                                "+t._s(t.$t("phone"))+"\n                            ")]),t._v(" "),s("div",{staticClass:"col-md-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.settingForm.phone,expression:"settingForm.phone"}],staticClass:"form-control",class:{"is-invalid":t.settingForm.errors.has("phone")},attrs:{type:"text",placeholder:t.$t("phone"),id:"phone"},domProps:{value:t.settingForm.phone},on:{input:function(e){e.target.composing||t.$set(t.settingForm,"phone",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.settingForm,field:"phone"}})],1)]),t._v(" "),s("div",{staticClass:"form-group mb-3 row"},[s("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"email"}},[t._v(t._s(t.$t("address")))]),t._v(" "),s("div",{staticClass:"col-md-9"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settingForm.address,expression:"settingForm.address"}],staticClass:"form-control",attrs:{rows:"8"},domProps:{value:t.settingForm.address},on:{input:function(e){e.target.composing||t.$set(t.settingForm,"address",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.settingForm,field:"address"}})],1)])]),t._v(" "),s("div",{staticClass:"ml-5 col-xl-4"},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("favicon")))]),t._v(" "),s("div",{staticClass:"col-md-9"},[s("img",{staticClass:"mb-3 border border-secondary",attrs:{width:"32px",height:"32px",src:t.preview_favicon,alt:"image"}}),s("br"),t._v(" "),s("input",{attrs:{type:"file",accept:"image/png, image/ico"},on:{change:t.onFavChange}})])]),t._v(" "),s("div",{staticClass:"form-group my-4 row"},[s("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("logo")))]),t._v(" "),s("div",{staticClass:"col-md-9"},[s("img",{staticClass:"mb-3 border border-secondary",attrs:{width:"200px",height:"50px",src:t.preview_logo,alt:"image"}}),s("br"),t._v(" "),s("input",{attrs:{type:"file"},on:{change:t.onLogoChange}})])]),t._v(" "),s("div",{staticClass:"form-group mb-3 row"},[s("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("dark_mode")+" "+t.$t("logo")))]),t._v(" "),s("div",{staticClass:"col-md-9"},[s("img",{staticClass:"mb-3 border border-secondary",attrs:{width:"200px",height:"50px",src:t.preview_dark_logo,alt:"image"}}),s("br"),t._v(" "),s("input",{attrs:{type:"file"},on:{change:t.onDarkLogoChange}})])])]),t._v(" "),t.checkPermission("setting-edit")?s("div",{staticClass:"col-md-4 text-center"},[t.settingForm.busy?s("button-loading"):s("button",{staticClass:"btn btn-primary mt-3 w-200 h-50",attrs:{type:"submit"}},[s("svg",{staticClass:"icon icon-tabler icon-tabler-check",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[s("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),t._v(" "),s("path",{attrs:{d:"M5 12l5 5l10 -10"}})]),t._v("\n                            "+t._s(t.$t("save"))+"\n                        ")])],1):t._e()])])])])])}),[],!1,null,null,null).exports}}]);