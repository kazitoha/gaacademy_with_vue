(self.webpackChunk=self.webpackChunk||[]).push([[8120],{2361:(t,e,o)=>{"use strict";o.d(e,{Z:()=>a});var s=o(3645),r=o.n(s)()((function(t){return t[1]}));r.push([t.id,".btn-loading-effect[data-v-512b9a39]{padding-left:30px}",""]);const a=r},3854:t=>{function e(t){return void 0===t}function o(t){return t===Object(t)}function s(t){return Array.isArray(t)}function r(t,s){return s?o(t)&&!e(t.uri):o(t)&&"number"==typeof t.size&&"string"==typeof t.type&&"function"==typeof t.slice}function a(t){return!e(t)&&t}t.exports={serialize:function t(n,i,l,c){i=i||{},l=l||new FormData,i.indices=a(i.indices),i.nullsAsUndefineds=a(i.nullsAsUndefineds),i.booleansAsIntegers=a(i.booleansAsIntegers),i.allowEmptyArrays=a(i.allowEmptyArrays),i.noFilesWithArrayNotation=a(i.noFilesWithArrayNotation),i.dotsForObjectNotation=a(i.dotsForObjectNotation);const m="function"==typeof l.getParts;return e(n)||(null===n?i.nullsAsUndefineds||l.append(c,""):!function(t){return"boolean"==typeof t}(n)?s(n)?n.length?n.forEach(((e,s)=>{let a=c+"["+(i.indices?s:"")+"]";i.noFilesWithArrayNotation&&function(t,e){return r(t,e)&&"string"==typeof t.name&&(o(t.lastModifiedDate)||"number"==typeof t.lastModified)}(e,m)&&(a=c),t(e,i,l,a)})):i.allowEmptyArrays&&l.append(c+"[]",""):!function(t){return t instanceof Date}(n)?o(n)&&!r(n,m)?Object.keys(n).forEach((e=>{const o=n[e];if(s(o))for(;e.length>2&&e.lastIndexOf("[]")===e.length-2;)e=e.substring(0,e.length-2);const r=c?i.dotsForObjectNotation?c+"."+e:c+"["+e+"]":e;t(o,i,l,r)})):l.append(c,n):l.append(c,n.toISOString()):i.booleansAsIntegers?l.append(c,n?1:0):l.append(c,n)),l}}},6805:(t,e,o)=>{"use strict";o.d(e,{Z:()=>i});var s=o(3379),r=o.n(s),a=o(2361),n={insert:"head",singleton:!1};r()(a.Z,n);a.Z.locals;const i=(0,o(1900).Z)({},(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"input-icon d-inline-block"},[o("span",{staticClass:"input-icon-addon"},[o("div",{staticClass:"spinner-border spinner-border-sm text-light mr-3",attrs:{role:"status"}})]),t._v(" "),o("input",{staticClass:"btn btn-primary btn-loading-effect",attrs:{type:"button",value:"Processing..."}})])}],!1,null,"512b9a39",null).exports},8120:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>m});var s=o(7757),r=o.n(s),a=o(6805),n=o(3854);function i(t,e,o,s,r,a,n){try{var i=t[a](n),l=i.value}catch(t){return void o(t)}i.done?e(l):Promise.resolve(l).then(s,r)}function l(t){return function(){var e=this,o=arguments;return new Promise((function(s,r){var a=t.apply(e,o);function n(t){i(a,s,r,n,l,"next",t)}function l(t){i(a,s,r,n,l,"throw",t)}n(void 0)}))}}const c={components:{ButtonLoading:a.Z},data:function(){return{settingForm:new Form({name:"",short_name:"",email:"",address:"",phone:"",favicon:"",logo:"",dark_logo:""}),preview_favicon:"",preview_logo:"",preview_dark_logo:""}},methods:{onFavChange:function(t){var e=t.target.files[0];this.preview_favicon=URL.createObjectURL(e),this.settingForm.favicon=e},onLogoChange:function(t){var e=t.target.files[0];this.preview_logo=URL.createObjectURL(e),this.settingForm.logo=e},onDarkLogoChange:function(t){var e=t.target.files[0];this.preview_dark_logo=URL.createObjectURL(e),this.settingForm.dark_logo=e},websiteSettingForm:function(){var t=this;return l(r().mark((function e(){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.settingForm.post("/api/setting",{transformRequest:[function(t,e){return(0,n.serialize)(t)}]});case 3:o=e.sent,t.settingForm.favicon&&document.getElementById("favicon").setAttribute("href",o.data.setting.favicon_url),t.toastSuccess(o.data.message),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t.toastError(),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},loadData:function(){var t=this;return l(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.settingForm.fill(t.setting),t.settingForm.logo="",t.settingForm.favicon="",t.settingForm.dark_logo="",t.preview_favicon=t.setting.favicon_url,t.preview_logo=t.setting.logo_url,t.preview_dark_logo=t.setting.dark_logo_url;case 7:case"end":return e.stop()}}),e)})))()}},computed:{setting:function(){return this.$store.getters["setting/setting"]}},created:function(){this.loadData()}};const m=(0,o(1900).Z)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tab-pane active show",attrs:{id:"website"}},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-body border-bottom py-3"},[o("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.websiteSettingForm(e)}}},[o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-xl-6"},[o("div",{staticClass:"form-group mb-3 row"},[o("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("app_name")))]),t._v(" "),o("div",{staticClass:"col-md-9"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.settingForm.name,expression:"settingForm.name"}],staticClass:"form-control",class:{"is-invalid":t.settingForm.errors.has("name")},attrs:{type:"text",placeholder:t.$t("name"),id:"name"},domProps:{value:t.settingForm.name},on:{input:function(e){e.target.composing||t.$set(t.settingForm,"name",e.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.settingForm,field:"name"}})],1)]),t._v(" "),o("div",{staticClass:"form-group mb-3 row"},[o("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("app_short_name")))]),t._v(" "),o("div",{staticClass:"col-md-9"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.settingForm.short_name,expression:"settingForm.short_name"}],staticClass:"form-control",class:{"is-invalid":t.settingForm.errors.has("short_name")},attrs:{type:"text",placeholder:t.$t("short_name"),id:"short_name"},domProps:{value:t.settingForm.short_name},on:{input:function(e){e.target.composing||t.$set(t.settingForm,"short_name",e.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.settingForm,field:"short_name"}})],1)]),t._v(" "),o("div",{staticClass:"form-group mb-3 row"},[o("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"email"}},[t._v(t._s(t.$t("email")))]),t._v(" "),o("div",{staticClass:"col-md-9"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.settingForm.email,expression:"settingForm.email"}],staticClass:"form-control",class:{"is-invalid":t.settingForm.errors.has("email")},attrs:{type:"text",placeholder:t.$t("email"),id:"email"},domProps:{value:t.settingForm.email},on:{input:function(e){e.target.composing||t.$set(t.settingForm,"email",e.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.settingForm,field:"email"}})],1)]),t._v(" "),o("div",{staticClass:"form-group mb-3 row"},[o("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"phone"}},[t._v("\n                                "+t._s(t.$t("phone"))+"\n                            ")]),t._v(" "),o("div",{staticClass:"col-md-9"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.settingForm.phone,expression:"settingForm.phone"}],staticClass:"form-control",class:{"is-invalid":t.settingForm.errors.has("phone")},attrs:{type:"text",placeholder:t.$t("phone"),id:"phone"},domProps:{value:t.settingForm.phone},on:{input:function(e){e.target.composing||t.$set(t.settingForm,"phone",e.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.settingForm,field:"phone"}})],1)]),t._v(" "),o("div",{staticClass:"form-group mb-3 row"},[o("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"email"}},[t._v(t._s(t.$t("address")))]),t._v(" "),o("div",{staticClass:"col-md-9"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settingForm.address,expression:"settingForm.address"}],staticClass:"form-control",attrs:{rows:"8"},domProps:{value:t.settingForm.address},on:{input:function(e){e.target.composing||t.$set(t.settingForm,"address",e.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.settingForm,field:"address"}})],1)])]),t._v(" "),o("div",{staticClass:"ml-5 col-xl-4"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("favicon")))]),t._v(" "),o("div",{staticClass:"col-md-9"},[o("img",{staticClass:"mb-3 border border-secondary",attrs:{width:"32px",height:"32px",src:t.preview_favicon,alt:"image"}}),o("br"),t._v(" "),o("input",{attrs:{type:"file",accept:"image/png, image/ico"},on:{change:t.onFavChange}})])]),t._v(" "),o("div",{staticClass:"form-group my-4 row"},[o("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("logo")))]),t._v(" "),o("div",{staticClass:"col-md-9"},[o("img",{staticClass:"mb-3 border border-secondary",attrs:{width:"200px",height:"50px",src:t.preview_logo,alt:"image"}}),o("br"),t._v(" "),o("input",{attrs:{type:"file"},on:{change:t.onLogoChange}})])]),t._v(" "),o("div",{staticClass:"form-group mb-3 row"},[o("label",{staticClass:"form-label col-md-3 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("dark_mode")+" "+t.$t("logo")))]),t._v(" "),o("div",{staticClass:"col-md-9"},[o("img",{staticClass:"mb-3 border border-secondary",attrs:{width:"200px",height:"50px",src:t.preview_dark_logo,alt:"image"}}),o("br"),t._v(" "),o("input",{attrs:{type:"file"},on:{change:t.onDarkLogoChange}})])])]),t._v(" "),t.checkPermission("setting-edit")?o("div",{staticClass:"col-md-4 text-center"},[t.settingForm.busy?o("button-loading"):o("button",{staticClass:"btn btn-primary mt-3 w-200 h-50",attrs:{type:"submit"}},[o("svg",{staticClass:"icon icon-tabler icon-tabler-check",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[o("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),t._v(" "),o("path",{attrs:{d:"M5 12l5 5l10 -10"}})]),t._v("\n                            "+t._s(t.$t("save"))+"\n                        ")])],1):t._e()])])])])])}),[],!1,null,null,null).exports}}]);